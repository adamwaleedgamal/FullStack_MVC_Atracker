@model IEnumerable<Atracker.Models.Vehicle>

@{
    ViewData["Title"] = "Fleet Monitoring";
    Layout = "~/Views/Shared/_MangerLayout.cshtml";
}

<div class="custom-card">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3>Fleet & Vehicle Monitoring</h3>
        <a asp-action="AddVehicle" class="btn btn-success">Add New Vehicle</a>
    </div>

    @if (!Model.Any())
    {
        <p>No vehicles found. Click "Add New Vehicle" to create one.</p>
    }
    else
    {
        @foreach (var vehicle in Model)
        {
            <div class="card mb-3">
                <div class="card-body row">
                    <div class="col-md-3">
                        <img src="https://i.imgur.com/gK6kPlF.png" class="img-fluid rounded" alt="Vehicle Image">
                    </div>
                    <div class="col-md-6">
                        <h5>Vehicle ID: @vehicle.VehicleIdentifier</h5>
                        <p><strong>License Plate:</strong> @vehicle.LicensePlate | <strong>Type:</strong> @vehicle.CarType</p>
                        <p><strong>Driver:</strong> @(vehicle.AssignedDriver?.FullName ?? "N/A")</p>
                    </div>
                    <div class="col-md-3 d-flex align-items-center justify-content-end">
                        <a asp-action="VehicleDetails" asp-route-id="@vehicle.Id" class="btn btn-primary">View Details</a>
                    </div>
                </div>
            </div>
        }
    }
</div>
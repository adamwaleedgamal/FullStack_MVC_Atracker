@model IEnumerable<Atracker.Models.TaskItem>

@{
    ViewData["Title"] = "Task & Delivery Management";
    Layout = "~/Views/Shared/_HeadLayout.cshtml"; // Use the new layout
}

<div class="custom-card">
    <h2 class="mb-4">Welcome To Head Dashboard</h2>
    <div class="custom-card">
        <h4 class="mb-3">Task & Delivery Management</h4>
        
        <form asp-action="BulkFeedback" method="post">
            <!-- Top Control Bar -->
            <div class="d-flex justify-content-between align-items-center mb-3 p-2 bg-light border rounded">
                <div>
                    <a asp-action="AddTask" class="btn btn-sm btn-outline-dark">Add</a>
                    @* <a href="#" class="btn btn-sm btn-outline-dark">Delete</a> *@
                    @* <a href="#" class="btn btn-sm btn-outline-dark">update</a> *@
                    <a asp-action="ViewDailyReports" class="btn btn-sm btn-info">View Daily Reports</a>

                </div>
                <div class="d-flex">
                    <input type="search" name="searchString" class="form-control-sm me-2" placeholder="Search...">
                    <button type="submit" class="btn btn-sm btn-primary">Bulk Feedback</button>
                </div>
            </div>

            <!-- Task List -->
            @foreach (var task in Model)
            {
                <div class="list-item">
                    <div>
                        <input type="checkbox" name="selectedTaskIds" value="@task.Id" class="form-check-input me-2">
                        <span class="dot me-2"></span>
                        <span>@task.Title | Round | @task.TaskStatus</span>
                    </div>
                    <div>
                        <a asp-action="EditTask" asp-route-id="@task.Id" class="btn btn-update btn-sm">update</a>
                        <a asp-action="Feedback" asp-route-id="@task.Id" class="btn btn-purple btn-sm">Feedback</a>
                        <a asp-action="DeleteTask" asp-route-id="@task.Id" class="btn btn-danger btn-sm">🗑️</a>
                    </div>
                </div>
            }
        </form>
    </div>
</div>